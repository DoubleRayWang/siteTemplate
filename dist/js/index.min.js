$(function(){var t=function(i,n,e){if(this.parent=$("#"+i),this.body=$("body"),this.parent.length<=0)return!1;if(this.options=$.extend({},t.options,n),"object"!=typeof e)return!1;this.data=e||{},this.reset();var o=this;$(window).resize(function(){o.reset()})};t.prototype={reset:function(t){"object"==typeof t&&$.extend(this.options,t),parseInt(this.body.outerWidth())>1255||-1!==navigator.userAgent.indexOf("iPad")?this.options.width=1190:this.options.width=970,this.total=this.data.length,this.pageNow=this.options.initPage,this.preLeft=0,this.nextLeft=this.options.width-530,this.preNLeft=-530,this.nextNLeft=this.options.width,this.pageNowLeft=(this.options.width-640)/2,this.drawContent()},drawContent:function(){this.parent.empty(),this.parent.css({width:this.options.width+"px",height:this.options.height+"px",position:"relative",margin:"20px auto 0"}),this.content=document.createElement("DIV"),this.content.className=this.options.className,this.content.cssText="width:"+this.options.width+"px;height:"+this.options.height+"px;cursor:move;position:absolute;",this.bottomNav=document.createElement("DIV"),this.bottomNav.className="bottomNav";for(var t=1;t<=this.total;t++){var i=document.createElement("DIV");i.className="bottomNavButtonOFF",t==this.pageNow&&(i.className="bottomNavButtonOFF bottomNavButtonON"),i.setAttribute("ref",t),this.bottomNav.appendChild(i)}this.bannerControls='<div class="bannerControls"> <div class="leftNav"><i class="glyphicon glyphicon-menu-left"></i></div> <div class="rightNav"><i class="glyphicon glyphicon-menu-right"></i></div> </div>',this.content.innerHTML+=this.bannerControls,this.contentHolder=document.createElement("DIV"),this.contentHolder.style.width=this.options.width+"px",this.contentHolder.style.height=this.options.height+"px";for(var n=0,e=(t=1,this.data.length);n<e;++n,++t){var o=document.createElement("DIV");o.className="contentHolderUnit",o.setAttribute("ref",t),o.setAttribute("id","contentHolderUnit"+t);var a='<img src="'+this.data[n].img+'" alt="'+this.data[n].title+'"/>';a+='<span class="leftShadow"></span>',a+='<span class="rightShadow"></span>',o.innerHTML=a,this.contentHolder.appendChild(o)}this.content.appendChild(this.contentHolder),this.parent.append(this.content),this.parent.css({overflow:"hidden"}),this.initContent(),this.bind()},initContent:function(){contentHolderUnit=this.parent.find(".contentHolderUnit"),contentHolderUnit.css({width:"0px",height:"0px",opacity:0,left:"435px",zIndex:0,marginTop:"135px"}),this.parent.find(".contentHolderUnit:nth-child("+this.pageNow+")").css({width:"320px",height:"662px",opacity:1,left:"435px",zIndex:3,marginTop:0}),this.parent.find(".contentHolderUnit:nth-child("+this.pageNow+") .leftShadow").css({opacity:1}),this.parent.find(".contentHolderUnit:nth-child("+this.pageNow+") .rightShadow").css({opacity:1});var t=this.pageNow>1?this.pageNow-1:this.total,i=this.pageNow==this.total?1:this.pageNow+1;this.parent.find(".contentHolderUnit:nth-child("+t+")").css({opacity:1,left:"85px",height:"580px",width:"280px",zIndex:0,marginTop:"41px"}),this.parent.find(".contentHolderUnit:nth-child("+t+") .leftShadow").css({opacity:0}),this.parent.find(".contentHolderUnit:nth-child("+t+") .rightShadow").css({opacity:0}),this.parent.find(".contentHolderUnit:nth-child("+i+")").css({opacity:1,left:"825px",height:"580px",width:"280px",zIndex:0,marginTop:"41px"}),this.parent.find(".contentHolderUnit:nth-child("+i+") .leftShadow").css({opacity:0}),this.parent.find(".contentHolderUnit:nth-child("+i+") .rightShadow").css({opacity:0})},bind:function(){this.leftNav=this.parent.find(".leftNav"),this.rightNav=this.parent.find(".rightNav"),this.bottonNav=this.parent.find(".bottomNavButtonOFF"),this.lists=this.parent.find(".contentHolderUnit");var t=this;t.leftNav.click(function(){t.turn("right")}),t.rightNav.click(function(){t.turn("left")}),t.bottonNav.click(function(){var i=parseInt(this.getAttribute("ref"));if(t.pageNow==i)return!1;if(t.pageNow<i)var n=i-t.pageNow,e=t.pageNow+t.total-i;else n=t.total-t.pageNow+i,e=t.pageNow-i;return dir=e<n?"right":"left",t.turnpage(i,dir),!1}),t.lists.click(function(i){var n=parseInt(this.getAttribute("ref"));if(t.pageNow==n)return!0;if(i.preventDefault(),t.pageNow<n)var e=n-t.pageNow,o=t.pageNow+t.total-n;else e=t.total-t.pageNow+n,o=t.pageNow-n;dir=o<e?"right":"left",t.turnpage(n,dir)})},initBottomNav:function(){this.parent.find(".bottomNavButtonOFF").removeClass("bottomNavButtonON"),this.parent.find(".bottomNavButtonOFF:nth-child("+this.pageNow+")").addClass("bottomNavButtonON")},stop:function(){clearInterval(this.timerId)},turn:function(t){if("right"==t){(i=this.pageNow-1)<=0&&(i=this.total)}else{var i;(i=this.pageNow+1)>this.total&&(i=1)}this.turnpage(i,t)},turnpage:function(t,i){var n=this;if(n.locked)return!1;if(n.locked=!0,n.pageNow==t)return!1;!function(t,i,e){var o=t>1?t-1:n.total,a=t==n.total?1:t+1,s=o-1>=1?o-1:n.total,h=a+1>n.total?1:a+1;if(o!=n.pageNow&&a!=n.pageNow){var p=n.pageNow>1?n.pageNow-1:n.total,d=n.pageNow==n.total?1:n.pageNow+1;n.parent.find(".contentHolderUnit:nth-child("+p+")").animate({width:"0px",height:"0px",opacity:1,left:"85px",zIndex:0,marginTop:"135px"},e),n.parent.find(".contentHolderUnit:nth-child("+n.pageNow+")").animate({width:"0px",height:"0px",opacity:1,left:"435px",zIndex:0,marginTop:"135px"},e),n.parent.find(".contentHolderUnit:nth-child("+d+")").animate({width:"0px",height:"0px",opacity:1,left:"825px",zIndex:0,marginTop:"135px"},e)}"left"==i?(n.parent.find(".contentHolderUnit:nth-child("+n.pageNow+")").css({zIndex:0}),n.parent.find(".contentHolderUnit:nth-child("+o+")").animate({opacity:1,left:"85px",height:"580px",width:"280px",zIndex:2,marginTop:"41px"},e),n.parent.find(".contentHolderUnit:nth-child("+t+")").css({zIndex:3}),n.parent.find(".contentHolderUnit:nth-child("+t+")").animate({opacity:1,left:"435px",height:"662px",width:"320px",zIndex:3,marginTop:"0"},e),n.parent.find(".contentHolderUnit:nth-child("+a+")").css({opacity:1,left:"1175px",height:"580px",width:"280px",zIndex:0,marginTop:"41px"}),n.parent.find(".contentHolderUnit:nth-child("+a+")").animate({opacity:1,left:"825px",height:"580px",width:"280px",zIndex:0,marginTop:"41px"},e),n.parent.find(".contentHolderUnit:nth-child("+s+")").css({zIndex:0}),n.parent.find(".contentHolderUnit:nth-child("+s+")").animate({width:"280px",height:"580px",opacity:1,left:"-315px",zIndex:0,marginTop:"41px"},e,"",function(){n.locked=!1})):(n.parent.find(".contentHolderUnit:nth-child("+n.pageNow+")").css({zIndex:0}),n.parent.find(".contentHolderUnit:nth-child("+a+")").css({zIndex:2}),n.parent.find(".contentHolderUnit:nth-child("+a+")").animate({opacity:1,left:"825px",height:"580px",width:"280px",zIndex:2,marginTop:"41px"},e),n.parent.find(".contentHolderUnit:nth-child("+t+")").css({zIndex:3},e),n.parent.find(".contentHolderUnit:nth-child("+t+")").animate({opacity:1,left:"435px",height:"662px",width:"320px",zIndex:3,marginTop:"0px"},e),n.parent.find(".contentHolderUnit:nth-child("+o+")").css({opacity:1,left:"-265px",height:"580px",width:"280px",zIndex:2,marginTop:"41px"}),n.parent.find(".contentHolderUnit:nth-child("+o+")").animate({opacity:1,left:"85px",height:"580px",width:"280px",zIndex:2,marginTop:"41px"},e),n.parent.find(".contentHolderUnit:nth-child("+h+")").css({zIndex:0}),n.parent.find(".contentHolderUnit:nth-child("+h+")").animate({width:"280px",height:"580px",opacity:1,left:"1225px",zIndex:0,marginTop:"41px"},e,"",function(){n.locked=!1})),n.pageNow=t,n.initBottomNav()}(t,i,n.options.speed)}},t.options={offsetPages:3,direct:"left",initPage:1,className:"posterTvGrid",autoWidth:!0,delay:3e3,speed:500};var n=function(t){this.totalImages=t.srcList.length,this.srcList=t.srcList,this.callback=t.callback||null};n.prototype={loadIMG:function(){var t=this;for(i=0;i<t.totalImages;i++)!function(i){var n=new Image;n.src=t.srcList[i].img,n.complete?t.callback():n.onload=t.callback}(i)}};var e=0,o=0,a={modal:$("#webApp"),service:$("#service"),posterTvGrid:$("#posterTvGrid")},s={travel:[{img:"images/travel/demo_1.jpg"}],furnishing:[{img:"images/furnishing/demo_1.jpg"}],clothes:[{img:"images/clothes/demo_1.jpg"}],trip:[{img:"images/trip/demo_1.jpg"}],house:[{img:"images/house/demo_1.jpg"}],food:[{img:"images/food/demo_1.jpg"}],education:[{img:"images/education/demo_1.jpg"}],finance:[{img:"images/finance/demo_1.jpg"}]},h=new t("posterTvGrid",{height:665});a.service.on("click",".case-wrap",function(){var t=$(this);a.modal.one("shown.bs.modal",function(){var i=$(this);i.find("#webAppLabel").html(t.data("title"));var p=s[t.data("demo")];new n({srcList:p=[{img:"http://cdn.jisuapp.cn/zhichi_frontend/static/webapp_home/img/shop-system-demonstrate1.png"},{img:"http://cdn.jisuapp.cn/zhichi_frontend/static/webapp_home/img/shop-system-demonstrate2.png"},{img:"http://cdn.jisuapp.cn/zhichi_frontend/static/webapp_home/img/shop-system-demonstrate3.png"},{img:"http://cdn.jisuapp.cn/zhichi_frontend/static/webapp_home/img/shop-system-demonstrate4.png"}],callback:function(){e++,100===(o=parseInt(e/p.length*100))&&i.find(".cssload-box-loading").fadeOut(600,function(){h.data=p,h.reset(),a.posterTvGrid.fadeIn()})}}).loadIMG()}).one("hidden.bs.modal",function(){var t=$(this);e=0,o=0,t.find(".cssload-box-loading").show(),a.posterTvGrid.hide()}).modal("show")})}),window.onload=function(){(new WOW).init(),$("#loading").fadeOut(200,function(){$(this).parent().removeClass("modal-open").end().remove()})};
//# sourceMappingURL=../map/js/index.min.js.map
